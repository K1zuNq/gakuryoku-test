<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>学力テスト</title>

<style>
body{
    font-family:sans-serif;
    margin:20px;
    line-height:1.6;
    user-select:none;
}
h1{text-align:center;}
.section{margin-top:30px;}
.question{margin:10px 0;}
textarea{width:100%;height:60px;}
input[type="text"]{width:100%;}
.timer{
    position:fixed;
    top:10px;
    right:20px;
    font-size:24px;
    font-weight:bold;
}
button{
    margin-top:20px;
    padding:10px 20px;
    font-size:16px;
}
</style>
</head>

<body oncontextmenu="return false">
<h1>学力テスト（制限時間30分）</h1>
<div class="timer" id="timer">30:00</div>

名前：
<input type="text" id="name">

<!-- 国語 -->
<div class="section">
<h2>【国語】20点</h2>

<div class="question">① 文の中で動作を表す語を何というか。</div>
<textarea id="kokugo1"></textarea>

<div class="question">② 名詞を修飾する語を何というか。</div>
<textarea id="kokugo2"></textarea>

<div class="question">③ 「そして」は何という語（分類）か。</div>
<textarea id="kokugo3"></textarea>

<div class="question">④ 「静かだ」は何という品詞か。</div>
<textarea id="kokugo4"></textarea>

<div class="question">⑤ 反対語を書け。「開始」</div>
<textarea id="kokugo5"></textarea>

<div class="question">⑥ 類義語を書け。「終了」</div>
<textarea id="kokugo6"></textarea>

<div class="question">⑦ 物語文で中心となる人物を何というか。</div>
<textarea id="kokugo7"></textarea>

<div class="question">⑧ 文を区切る「。」を何というか。</div>
<textarea id="kokugo8"></textarea>

<div class="question">⑨ 相手をうやまって言う言葉を何というか。</div>
<textarea id="kokugo9"></textarea>

<div class="question">⑩ ことわざ「七転び八起き」が表す意味を一言で答えよ。</div>
<textarea id="kokugo10"></textarea>
</div>

<!-- 数学 -->
<div class="section">
<h2>【数学】20点</h2>

<div class="question">① 96 ÷ 12 はいくつか。</div>
<textarea id="sugaku1"></textarea>

<div class="question">② 18 × 7 はいくつか。</div>
<textarea id="sugaku2"></textarea>

<div class="question">③ 4x = 28 のとき、x はいくつか。</div>
<textarea id="sugaku3"></textarea>

<div class="question">④ 5x − 3 = 17 のとき、x はいくつか。</div>
<textarea id="sugaku4"></textarea>

<div class="question">⑤ 240 の 15% はいくつか。</div>
<textarea id="sugaku5"></textarea>

<div class="question">⑥ 3/5 + 1/4 を計算せよ。</div>
<textarea id="sugaku6"></textarea>

<div class="question">⑦ 2.4 ÷ 0.6 を計算せよ。</div>
<textarea id="sugaku7"></textarea>

<div class="question">⑧ ある数の3倍は45である。その数はいくつか。</div>
<textarea id="sugaku8"></textarea>

<div class="question">⑨ 定価800円の商品を25%引きで買うといくらか。</div>
<textarea id="sugaku9"></textarea>

<div class="question">⑩ 連続する2つの整数の和が41である。この2つの整数を答えよ。</div>
<textarea id="sugaku10"></textarea>
</div>

<!-- 英語 -->
<div class="section">
<h2>【英語】20点</h2>

<div class="question">① I have lived in Tokyo for three years. を日本語に訳せ。</div>
<textarea id="eigo1"></textarea>

<div class="question">② When I was a child, I often played in this park. を日本語に訳せ。</div>
<textarea id="eigo2"></textarea>

<div class="question">③ go の過去形は何か。</div>
<textarea id="eigo3"></textarea>

<div class="question">④ study の三人称単数現在形は何か。</div>
<textarea id="eigo4"></textarea>

<div class="question">⑤ 「今、私は本を読んでいます。」を英語にせよ。</div>
<textarea id="eigo5"></textarea>

<div class="question">⑥ 次の文を疑問文にせよ。You like music.</div>
<textarea id="eigo6"></textarea>

<div class="question">⑦ 次の文を否定文にせよ。She plays soccer.</div>
<textarea id="eigo7"></textarea>

<div class="question">⑧ good の比較級は何か。</div>
<textarea id="eigo8"></textarea>

<div class="question">⑨ 「〜しなければならない」を表す英語を書け。</div>
<textarea id="eigo9"></textarea>

<div class="question">⑩ 次の文の誤りを直せ。He go to school every day.</div>
<textarea id="eigo10"></textarea>
</div>

<!-- 理科 -->
<div class="section">
<h2>【理科】20点</h2>

<div class="question">① 光合成に必要な気体は何か。</div>
<textarea id="rika1"></textarea>

<div class="question">② 水の化学式は何か。</div>
<textarea id="rika2"></textarea>

<div class="question">③ 電流の単位は何か。</div>
<textarea id="rika3"></textarea>

<div class="question">④ 地震の規模を表す値を何というか。</div>
<textarea id="rika4"></textarea>

<div class="question">⑤ 植物の細胞にあって動物の細胞にないものを1つ答えよ。</div>
<textarea id="rika5"></textarea>

<div class="question">⑥ 物体に力がはたらかないとき、物体の運動はどうなるか。</div>
<textarea id="rika6"></textarea>

<div class="question">⑦ 酸性の水溶液に青色リトマス紙を入れると何色に変わるか。</div>
<textarea id="rika7"></textarea>

<div class="question">⑧ 人の血液中で酸素を運ぶ成分は何か。</div>
<textarea id="rika8"></textarea>

<div class="question">⑨ 100Vとは1クーロンあたり何ジュールか。</div>
<textarea id="rika9"></textarea>

<div class="question">⑩ 結晶が大きい火山岩を何というか。</div>
<textarea id="rika10"></textarea>
</div>

<!-- 社会 -->
<div class="section">
<h2>【社会】20点</h2>

<div class="question">① 日本の国会は何院制か。</div>
<textarea id="shakai1"></textarea>

<div class="question">② 日本国憲法が施行されたのは何年か。</div>
<textarea id="shakai2"></textarea>

<div class="question">③ 法律をつくる権力を何というか。</div>
<textarea id="shakai3"></textarea>

<div class="question">④ 鎌倉幕府を開いた人物は誰か。</div>
<textarea id="shakai4"></textarea>

<div class="question">⑤ 明治維新が始まったのは何年か。</div>
<textarea id="shakai5"></textarea>

<div class="question">⑥ 日本の最大の貿易相手国を1つ答えよ。</div>
<textarea id="shakai6"></textarea>

<div class="question">⑦ 赤道付近の気候帯を何というか。</div>
<textarea id="shakai7"></textarea>

<div class="question">⑧ EUの正式名称を答えよ。</div>
<textarea id="shakai8"></textarea>

<div class="question">⑨ 内閣の長を何というか。</div>
<textarea id="shakai9"></textarea>

<div class="question">⑩ 第二次世界大戦が終結したのは何年か。</div>
<textarea id="shakai10"></textarea>
</div>

<button onclick="submitTest()">提出</button>

<script>
let startTime = new Date().getTime();
let timeLeft = 1800;

let timerInterval = setInterval(function(){
    timeLeft--;
    let minutes = Math.floor(timeLeft/60);
    let seconds = timeLeft%60;
    document.getElementById("timer").innerText =
        String(minutes).padStart(2,"0")+":"+
        String(seconds).padStart(2,"0");

    if(timeLeft<=0){
        clearInterval(timerInterval);
        submitTest();
    }
},1000);

async function submitTest(){

    const endTime = new Date().getTime();
    const elapsed = Math.floor((endTime - startTime)/1000);

    const payload = {
        name: document.getElementById("name").value,
        kokugo: kokugo1.value + "|" + kokugo2.value + "|" + kokugo3.value + "|" + kokugo4.value + "|" + kokugo5.value + "|" + kokugo6.value + "|" + kokugo7.value + "|" + kokugo8.value + "|" + kokugo9.value + "|" + kokugo10.value,
        sugaku: sugaku1.value + "|" + sugaku2.value + "|" + sugaku3.value + "|" + sugaku4.value + "|" + sugaku5.value + "|" + sugaku6.value + "|" + sugaku7.value + "|" + sugaku8.value + "|" + sugaku9.value + "|" + sugaku10.value,
        eigo: eigo1.value + "|" + eigo2.value + "|" + eigo3.value + "|" + eigo4.value + "|" + eigo5.value + "|" + eigo6.value + "|" + eigo7.value + "|" + eigo8.value + "|" + eigo9.value + "|" + eigo10.value,
        rika: rika1.value + "|" + rika2.value + "|" + rika3.value + "|" + rika4.value + "|" + rika5.value + "|" + rika6.value + "|" + rika7.value + "|" + rika8.value + "|" + rika9.value + "|" + rika10.value,
        shakai: shakai1.value + "|" + shakai2.value + "|" + shakai3.value + "|" + shakai4.value + "|" + shakai5.value + "|" + shakai6.value + "|" + shakai7.value + "|" + shakai8.value + "|" + shakai9.value + "|" + shakai10.value,
        time: elapsed + "秒"
    };

    try{
await fetch("https://script.google.com/macros/s/AKfycbyvt-0sCpum4AUWlVdE0g5WHUadDlJTJ4Yiu0Ng8WJHSzIGLUcyuCyFOttqTPq7L4QF/exec",{
    method:"POST",
    body: new URLSearchParams(payload)
});
        alert("送信しました！");
    }catch(error){
        alert("送信エラー："+error);
    }
}

document.onkeydown = function(e){
    if(e.keyCode==123){return false;}
};
</script>

</body>
</html>
